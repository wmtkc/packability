(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[968],{5969:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/ssr",function(){return t(4650)}])},1523:function(n,e,t){"use strict";t.d(e,{Z:function(){return o}});var r=t(5893),a=t(5988),i=t.n(a);t(7294);function o(n){var e=n.children;return(0,r.jsxs)("main",{className:"jsx-8e2adea2a0fe137",children:[e,(0,r.jsx)(i(),{id:"8e2adea2a0fe137",children:'*{font-family:Menlo, Monaco, "Lucida Console", "Liberation Mono", "DejaVu Sans Mono", "Bitstream Vera Sans Mono", "Courier New", monospace, serif}\nbody{margin:0;\npadding:25px 50px}\na{color:#22bad9}\np{font-size:14px;\nline-height:24px}\narticle{margin:0 auto;\nmax-width:650px}\nbutton{-webkit-align-items:center;\n-webkit-box-align:center;\n-ms-flex-align:center;\nalign-items:center;\nbackground-color:#22bad9;\nborder:0;\ncolor:white;\ndisplay:-webkit-box;\ndisplay:-webkit-flex;\ndisplay:-ms-flexbox;\ndisplay:flex;\npadding:5px 7px;\n-webkit-transition:background-color 0.3s;\ntransition:background-color 0.3s}\nbutton:active{background-color:#1b9db7}\nbutton:disabled{background-color:#b5bebf}\nbutton:focus{outline:none}'})]})}},5439:function(n,e,t){"use strict";t.d(e,{Z:function(){return b}});var r=t(5893),a=t(5988),i=t.n(a),o=t(1641),s=t(1644);function l(n){var e=n.message;return(0,r.jsxs)("aside",{className:"jsx-2536a85f45ca4f77",children:[e,(0,r.jsx)(i(),{id:"2536a85f45ca4f77",children:"aside.jsx-2536a85f45ca4f77{padding:1.5em;\nfont-size:14px;\ncolor:white;\nbackground-color:red}"})]})}var c=t(7283);function d(){var n,e,t=(n=["\n    query ($skip: Int, $first: Int) {\n      _booksMeta {\n        count\n      }\n      books(skip: $skip, first: $first) {\n        title\n        author\n        id\n      }\n    }\n"],e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}})));return d=function(){return t},t}var u={skip:0,first:5},f=(0,c.Ps)(d());function b(){var n=(0,o.a)(f,{variables:u,notifyOnNetworkStatusChange:!0}),e=n.loading,t=n.error,a=n.data,c=n.fetchMore,d=n.networkStatus===s.I.fetchMore;if(t)return(0,r.jsx)(l,{message:"Error loading posts."});if(e&&!d)return(0,r.jsx)("div",{children:"Loading"});var b=a.books,x=a._booksMeta,p=b.length<x.count;return(0,r.jsxs)("section",{className:"jsx-b7d43af507891f0a",children:[(0,r.jsx)("ul",{className:"jsx-b7d43af507891f0a",children:b.map((function(n,e){return(0,r.jsx)("li",{className:"jsx-b7d43af507891f0a",children:(0,r.jsxs)("div",{className:"jsx-b7d43af507891f0a",children:[(0,r.jsxs)("span",{className:"jsx-b7d43af507891f0a",children:[e+1,". "]}),(0,r.jsx)("span",{className:"jsx-b7d43af507891f0a",children:n.author+" \u2014 "+n.title})]})},n.id)}))}),p&&(0,r.jsx)("button",{onClick:function(){return c({variables:{skip:b.length}}),void console.log(a)},disabled:d,className:"jsx-b7d43af507891f0a",children:d?"Loading...":"Show More"}),(0,r.jsx)(i(),{id:"b7d43af507891f0a",children:"section.jsx-b7d43af507891f0a{padding-bottom:20px}\nli.jsx-b7d43af507891f0a{display:block;\nmargin-bottom:10px}\ndiv.jsx-b7d43af507891f0a{-webkit-align-items:center;\n-webkit-box-align:center;\n-ms-flex-align:center;\nalign-items:center;\ndisplay:-webkit-box;\ndisplay:-webkit-flex;\ndisplay:-ms-flexbox;\ndisplay:flex}\na.jsx-b7d43af507891f0a{font-size:14px;\nmargin-right:10px;\n-webkit-text-decoration:none;\ntext-decoration:none;\npadding-bottom:0;\nborder:0}\nspan.jsx-b7d43af507891f0a{font-size:14px;\nmargin-right:5px}\nul.jsx-b7d43af507891f0a{margin:0;\npadding:0}\nbutton.jsx-b7d43af507891f0a:before{-webkit-align-self:center;\n-ms-flex-item-align:center;\nalign-self:center;\nborder-style:solid;\nborder-width:6px 4px 0 4px;\nborder-color:#ffffff transparent transparent transparent;\ncontent:'';\nheight:0;\nmargin-right:5px;\nwidth:0}"})]})}},4283:function(n,e,t){"use strict";t.d(e,{Z:function(){return p}});var r=t(5893),a=t(5988),i=t.n(a),o=t(319),s=t(7283);function l(){var n,e,t=(n=["\n    mutation Mutation($title: String!, $author: String!) {\n        createBook(title: $title, author: $author) {\n            id\n            title\n            author\n        }\n    }\n"],e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}})));return l=function(){return t},t}var c=(0,s.Ps)(l());function d(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function u(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=null==n?null:"undefined"!==typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,a,i=[],o=!0,s=!1;try{for(t=t.call(n);!(o=(r=t.next()).done)&&(i.push(r.value),!e||i.length!==e);o=!0);}catch(l){s=!0,a=l}finally{try{o||null==t.return||t.return()}finally{if(s)throw a}}return i}}(n,e)||b(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(n){return function(n){if(Array.isArray(n))return d(n)}(n)||function(n){if("undefined"!==typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||b(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(n,e){if(n){if("string"===typeof n)return d(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?d(n,e):void 0}}function x(){var n,e,t=(n=["\n                  fragment NewBook on books {\n                    id\n                    type\n                  }\n                "],e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}})));return x=function(){return t},t}function p(){var n=u((0,o.D)(c),2),e=n[0],t=n[1].loading;return(0,r.jsxs)("form",{onSubmit:function(n){n.preventDefault();var t=n.target,r=new window.FormData(t),a=r.get("title"),i=r.get("author");t.reset(),e({variables:{title:a,author:i},update:function(n,e){var t=e.data.createBook;n.modify({fields:{books:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=n.writeFragment({data:t,fragment:(0,s.Ps)(x())});return[r].concat(f(e))}}})}})},className:"jsx-f42919216699f74d",children:[(0,r.jsx)("h1",{className:"jsx-f42919216699f74d",children:"Submit"}),(0,r.jsx)("input",{placeholder:"title",name:"title",type:"text",required:!0,className:"jsx-f42919216699f74d"}),(0,r.jsx)("input",{placeholder:"author",name:"author",type:"author",required:!0,className:"jsx-f42919216699f74d"}),(0,r.jsx)("button",{type:"submit",disabled:t,className:"jsx-f42919216699f74d",children:"Submit"}),(0,r.jsx)(i(),{id:"f42919216699f74d",children:"form.jsx-f42919216699f74d{border-bottom:1px solid #ececec;\npadding-bottom:20px;\nmargin-bottom:20px}\nh1.jsx-f42919216699f74d{font-size:20px}\ninput.jsx-f42919216699f74d{display:block;\nmargin-bottom:10px}"})]})}},8969:function(n,e,t){"use strict";t.d(e,{Z:function(){return l}});var r=t(5893),a=t(5988),i=t.n(a),o=t(1163),s=t(1664);function l(){var n=(0,o.useRouter)().pathname;return(0,r.jsxs)("header",{className:"jsx-4e8bd097b904d26f",children:[(0,r.jsx)(s.default,{href:"/",children:(0,r.jsx)("a",{className:"jsx-4e8bd097b904d26f "+(("/"===n?"is-active":"")||""),children:"Home"})}),(0,r.jsx)(s.default,{href:"/about",children:(0,r.jsx)("a",{className:"jsx-4e8bd097b904d26f "+(("/about"===n?"is-active":"")||""),children:"About"})}),(0,r.jsx)(s.default,{href:"/client-only",children:(0,r.jsx)("a",{className:"jsx-4e8bd097b904d26f "+(("/client-only"===n?"is-active":"")||""),children:"Client-Only"})}),(0,r.jsx)(s.default,{href:"/ssr",children:(0,r.jsx)("a",{className:"jsx-4e8bd097b904d26f "+(("/ssr"===n?"is-active":"")||""),children:"SSR"})}),(0,r.jsx)(i(),{id:"4e8bd097b904d26f",children:"header.jsx-4e8bd097b904d26f{margin-bottom:25px}\na.jsx-4e8bd097b904d26f{font-size:14px;\nmargin-right:15px;\n-webkit-text-decoration:none;\ntext-decoration:none}\n.is-active.jsx-4e8bd097b904d26f{text-decoration:underline}"})]})}},4939:function(n,e,t){"use strict";var r=t(5893),a=t(5988),i=t.n(a);e.Z=function(n){var e=n.children;return(0,r.jsxs)("div",{className:"jsx-ab96fc53b46f77b7 info",children:[(0,r.jsx)(i(),{id:"ab96fc53b46f77b7",children:".info.jsx-ab96fc53b46f77b7{margin-top:20px;\nmargin-bottom:20px;\npadding-top:20px;\npadding-bottom:20px;\nborder-top:1px solid #ececec;\nborder-bottom:1px solid #ececec}"}),e]})}},4650:function(n,e,t){"use strict";t.r(e),t.d(e,{__N_SSP:function(){return c}});var r=t(5893),a=t(1523),i=t(4939),o=t(8969),s=t(4283),l=t(5439),c=!0;e.default=function(){return(0,r.jsxs)(a.Z,{children:[(0,r.jsx)(o.Z,{}),(0,r.jsx)(i.Z,{children:"\u2139\ufe0f This page shows how to use SSR with Apollo."}),(0,r.jsx)(s.Z,{}),(0,r.jsx)(l.Z,{})]})}},319:function(n,e,t){"use strict";t.d(e,{D:function(){return d}});var r=t(655),a=t(7294),i=t(8728),o=t(2152),s=t(4692),l=t(990),c=t(6252);function d(n,e){var t=(0,c.x)(null===e||void 0===e?void 0:e.client);(0,s.Vp)(n,s.n_.Mutation);var d=(0,a.useState)({called:!1,loading:!1,client:t}),u=d[0],f=d[1],b=(0,a.useRef)({result:u,mutationId:0,isMounted:!0,client:t,mutation:n,options:e});Object.assign(b.current,{client:t,options:e,mutation:n});var x=(0,a.useCallback)((function(n){void 0===n&&(n={});var e=b.current,t=e.client,a=e.options,s=e.mutation,c=(0,r.pi)((0,r.pi)({},a),{mutation:s});b.current.result.loading||c.ignoreResults||f(b.current.result={loading:!0,error:void 0,data:void 0,called:!0,client:t});var d=++b.current.mutationId,u=(0,i.J)(c,n);return t.mutate(u).then((function(e){var r,a,i=e.data,s=e.errors,x=s&&s.length>0?new l.c({graphQLErrors:s}):void 0;if(d===b.current.mutationId&&!u.ignoreResults){var p={called:!0,loading:!1,data:i,error:x,client:t};b.current.isMounted&&!(0,o.D)(b.current.result,p)&&f(b.current.result=p)}return null===(r=c.onCompleted)||void 0===r||r.call(c,e.data),null===(a=n.onCompleted)||void 0===a||a.call(n,e.data),e})).catch((function(e){var r,a;if(d===b.current.mutationId&&b.current.isMounted){var i={loading:!1,error:e,data:void 0,called:!0,client:t};(0,o.D)(b.current.result,i)||f(b.current.result=i)}if(c.onError||u.onError)return null===(r=c.onError)||void 0===r||r.call(c,e),null===(a=n.onError)||void 0===a||a.call(n,e),{data:void 0,errors:e};throw e}))}),[]),p=(0,a.useCallback)((function(){f({called:!1,loading:!1,client:t})}),[]);return(0,a.useEffect)((function(){return function(){b.current.isMounted=!1}}),[]),[x,(0,r.pi)({reset:p},u)]}}},function(n){n.O(0,[993,770,774,888,179],(function(){return e=5969,n(n.s=e);var e}));var e=n.O();_N_E=e}]);