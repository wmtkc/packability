(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[560],{2865:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/examples",function(){return n(8093)}])},8093:function(e,r,n){"use strict";n.r(r),n.d(r,{__N_SSG:function(){return P},default:function(){return N}});var t=n(5893),a=n(4886),s=n(9845),i=n(9962),o=n(4051),u=n.n(o),l=n(1641),c=n(319),f=n(7294),d=n(6357),m=n.n(d),p=n(7283);function v(){var e,r,n=(e=["\n  mutation Mutation($username: String!, $email: String!, $password: String!) {\n      createUser(username: $username, email: $email, password: $password) {\n        id\n      }\n  }\n"],r||(r=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(r)}})));return v=function(){return n},n}var b=(0,p.Ps)(v());function y(){var e,r,n=(e=["\n    query Query($username: String!) {\n        isUsernameAvailable(username: $username)\n    }\n"],r||(r=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(r)}})));return y=function(){return n},n}var g=(0,p.Ps)(y());function h(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}function w(e,r,n,t,a,s,i){try{var o=e[s](i),u=o.value}catch(l){return void n(l)}o.done?r(u):Promise.resolve(u).then(t,a)}function _(e,r,n){return r in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}function j(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{},t=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),t.forEach((function(r){_(e,r,n[r])}))}return e}function x(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var t,a,s=[],i=!0,o=!1;try{for(n=n.call(e);!(i=(t=n.next()).done)&&(s.push(t.value),!r||s.length!==r);i=!0);}catch(u){o=!0,a=u}finally{try{i||null==n.return||n.return()}finally{if(o)throw a}}return s}}(e,r)||function(e,r){if(!e)return;if("string"===typeof e)return h(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(){var e=(0,f.useState)({email:"",username:"",password:"",passwordVerify:"",message:"",loader:!1,canSubmit:!1}),r=e[0],n=e[1],a=(0,l.a)(g,{variables:{username:r.username}}),s=a.loading,i=a.error,o=a.data,d=x((0,c.D)(b),2),p=d[0],v=d[1].loading;(0,f.useEffect)((function(){!s&&!v||r.loader?r.loader&&(console.dir("loader off"),n(j({},r,{loader:!1}))):(console.dir("loader on"),n(j({},r,{loader:!0})))}),[s,v]),(0,f.useEffect)((function(){i&&n(j({},r,{message:i.message}))}),[i]),(0,f.useEffect)((function(){s||(null===o||void 0===o?void 0:o.isUsernameAvailable)?""!==r.message&&n(j({},r,{message:""})):n(j({},r,{message:"Username Already Taken"}))}),[o]),(0,f.useEffect)((function(){var e=r.password,t=r.passwordVerify;e!==t&&""!==e&&""!==t?n(j({},r,{message:"Passwords do not match",canSubmit:!1})):""===r.message&&r.canSubmit||n(j({},r,{message:"",canSubmit:!0}))}),[r.password,r.passwordVerify]);var y=function(e){var t=e.target.name,a=e.target.value;n(j({},r,_({},t,a)))},h=function(){var e,t=(e=u().mark((function e(t){var a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),t.target.reset(),r.password===r.passwordVerify){e.next=6;break}return n(j({},r,{message:"Passwords do not match"})),e.abrupt("return");case 6:return e.next=8,p({variables:{email:r.email,username:r.username,password:r.password}});case 8:a=e.sent,console.log(a);case 10:case"end":return e.stop()}}),e)})),function(){var r=this,n=arguments;return new Promise((function(t,a){var s=e.apply(r,n);function i(e){w(s,t,a,i,o,"next",e)}function o(e){w(s,t,a,i,o,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}();return(0,t.jsxs)("form",{className:m().form,onSubmit:h,children:[(0,t.jsx)("h1",{className:m().h1,children:"Register User"}),(0,t.jsx)("input",{className:m().input,placeholder:"email",value:r.email,onChange:y,name:"email",type:"email",required:!0}),(0,t.jsx)("input",{className:m().input,placeholder:"username",value:r.username,onChange:y,name:"username",type:"text",required:!0}),(0,t.jsx)("input",{className:m().input,placeholder:"password",value:r.password,onChange:y,name:"password",type:"password",required:!0}),(0,t.jsx)("input",{className:m().input,placeholder:"verify password",value:r.passwordVerify,onChange:y,name:"passwordVerify",type:"password",required:!0}),(0,t.jsxs)("div",{className:m().submitFields,children:[(0,t.jsx)("button",{type:"submit",disabled:!r.canSubmit,children:"Submit"}),(0,t.jsx)("div",{className:m().message,style:r.message?{visibility:"visible"}:{visibility:"hidden"},children:r.message}),(0,t.jsx)("div",{className:m().loader,style:r.loader?{visibility:"visible"}:{visibility:"hidden"}})]})]})}var O=n(5475),P=!0,N=function(){return(0,t.jsxs)(a.Z,{children:[(0,t.jsx)(i.Z,{}),(0,t.jsx)(s.Z,{children:"\u2139\ufe0f This page shows how to use SSG with Apollo."}),(0,t.jsx)(S,{}),(0,t.jsx)(O.Z,{})]})}},6357:function(e){e.exports={form:"Register_form__uj1ys",h1:"Register_h1__dpbvq",input:"Register_input__f_b2b",message:"Register_message__hvvfi",submitFields:"Register_submitFields__tufPB",loader:"Register_loader__VJZUk",load1:"Register_load1__8mjPW"}}},function(e){e.O(0,[988,993,105,774,888,179],(function(){return r=2865,e(e.s=r);var r}));var r=e.O();_N_E=r}]);