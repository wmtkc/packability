(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5301:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(8196)}])},1523:function(e,n,r){"use strict";r.d(n,{Z:function(){return s}});var t=r(5893),a=r(5988),i=r.n(a);r(7294);function s(e){var n=e.children;return(0,t.jsxs)("main",{className:"jsx-8e2adea2a0fe137",children:[n,(0,t.jsx)(i(),{id:"8e2adea2a0fe137",children:'*{font-family:Menlo, Monaco, "Lucida Console", "Liberation Mono", "DejaVu Sans Mono", "Bitstream Vera Sans Mono", "Courier New", monospace, serif}\nbody{margin:0;\npadding:25px 50px}\na{color:#22bad9}\np{font-size:14px;\nline-height:24px}\narticle{margin:0 auto;\nmax-width:650px}\nbutton{-webkit-align-items:center;\n-webkit-box-align:center;\n-ms-flex-align:center;\nalign-items:center;\nbackground-color:#22bad9;\nborder:0;\ncolor:white;\ndisplay:-webkit-box;\ndisplay:-webkit-flex;\ndisplay:-ms-flexbox;\ndisplay:flex;\npadding:5px 7px;\n-webkit-transition:background-color 0.3s;\ntransition:background-color 0.3s}\nbutton:active{background-color:#1b9db7}\nbutton:disabled{background-color:#b5bebf}\nbutton:focus{outline:none}'})]})}},5439:function(e,n,r){"use strict";r.d(n,{Z:function(){return b}});var t=r(5893),a=r(5988),i=r.n(a),s=r(1641),o=r(1644);function l(e){var n=e.message;return(0,t.jsxs)("aside",{className:"jsx-2536a85f45ca4f77",children:[n,(0,t.jsx)(i(),{id:"2536a85f45ca4f77",children:"aside.jsx-2536a85f45ca4f77{padding:1.5em;\nfont-size:14px;\ncolor:white;\nbackground-color:red}"})]})}var c=r(7283);function u(){var e,n,r=(e=["\n    query ($skip: Int, $first: Int) {\n      _booksMeta {\n        count\n      }\n      books(skip: $skip, first: $first) {\n        title\n        author\n        id\n      }\n    }\n"],n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));return u=function(){return r},r}var d={skip:0,first:5},f=(0,c.Ps)(u());function b(){var e=(0,s.a)(f,{variables:d,notifyOnNetworkStatusChange:!0}),n=e.loading,r=e.error,a=e.data,c=e.fetchMore,u=e.networkStatus===o.I.fetchMore;if(r)return(0,t.jsx)(l,{message:"Error loading posts."});if(n&&!u)return(0,t.jsx)("div",{children:"Loading"});var b=a.books,m=a._booksMeta,p=b.length<m.count;return(0,t.jsxs)("section",{className:"jsx-b7d43af507891f0a",children:[(0,t.jsx)("ul",{className:"jsx-b7d43af507891f0a",children:b.map((function(e,n){return(0,t.jsx)("li",{className:"jsx-b7d43af507891f0a",children:(0,t.jsxs)("div",{className:"jsx-b7d43af507891f0a",children:[(0,t.jsxs)("span",{className:"jsx-b7d43af507891f0a",children:[n+1,". "]}),(0,t.jsx)("span",{className:"jsx-b7d43af507891f0a",children:e.author+" \u2014 "+e.title})]})},e.id)}))}),p&&(0,t.jsx)("button",{onClick:function(){return c({variables:{skip:b.length}}),void console.log(a)},disabled:u,className:"jsx-b7d43af507891f0a",children:u?"Loading...":"Show More"}),(0,t.jsx)(i(),{id:"b7d43af507891f0a",children:"section.jsx-b7d43af507891f0a{padding-bottom:20px}\nli.jsx-b7d43af507891f0a{display:block;\nmargin-bottom:10px}\ndiv.jsx-b7d43af507891f0a{-webkit-align-items:center;\n-webkit-box-align:center;\n-ms-flex-align:center;\nalign-items:center;\ndisplay:-webkit-box;\ndisplay:-webkit-flex;\ndisplay:-ms-flexbox;\ndisplay:flex}\na.jsx-b7d43af507891f0a{font-size:14px;\nmargin-right:10px;\n-webkit-text-decoration:none;\ntext-decoration:none;\npadding-bottom:0;\nborder:0}\nspan.jsx-b7d43af507891f0a{font-size:14px;\nmargin-right:5px}\nul.jsx-b7d43af507891f0a{margin:0;\npadding:0}\nbutton.jsx-b7d43af507891f0a:before{-webkit-align-self:center;\n-ms-flex-item-align:center;\nalign-self:center;\nborder-style:solid;\nborder-width:6px 4px 0 4px;\nborder-color:#ffffff transparent transparent transparent;\ncontent:'';\nheight:0;\nmargin-right:5px;\nwidth:0}"})]})}},8969:function(e,n,r){"use strict";r.d(n,{Z:function(){return l}});var t=r(5893),a=r(5988),i=r.n(a),s=r(1163),o=r(1664);function l(){var e=(0,s.useRouter)().pathname;return(0,t.jsxs)("header",{className:"jsx-4e8bd097b904d26f",children:[(0,t.jsx)(o.default,{href:"/",children:(0,t.jsx)("a",{className:"jsx-4e8bd097b904d26f "+(("/"===e?"is-active":"")||""),children:"Home"})}),(0,t.jsx)(o.default,{href:"/about",children:(0,t.jsx)("a",{className:"jsx-4e8bd097b904d26f "+(("/about"===e?"is-active":"")||""),children:"About"})}),(0,t.jsx)(o.default,{href:"/client-only",children:(0,t.jsx)("a",{className:"jsx-4e8bd097b904d26f "+(("/client-only"===e?"is-active":"")||""),children:"Client-Only"})}),(0,t.jsx)(o.default,{href:"/ssr",children:(0,t.jsx)("a",{className:"jsx-4e8bd097b904d26f "+(("/ssr"===e?"is-active":"")||""),children:"SSR"})}),(0,t.jsx)(i(),{id:"4e8bd097b904d26f",children:"header.jsx-4e8bd097b904d26f{margin-bottom:25px}\na.jsx-4e8bd097b904d26f{font-size:14px;\nmargin-right:15px;\n-webkit-text-decoration:none;\ntext-decoration:none}\n.is-active.jsx-4e8bd097b904d26f{text-decoration:underline}"})]})}},4939:function(e,n,r){"use strict";var t=r(5893),a=r(5988),i=r.n(a);n.Z=function(e){var n=e.children;return(0,t.jsxs)("div",{className:"jsx-ab96fc53b46f77b7 info",children:[(0,t.jsx)(i(),{id:"ab96fc53b46f77b7",children:".info.jsx-ab96fc53b46f77b7{margin-top:20px;\nmargin-bottom:20px;\npadding-top:20px;\npadding-bottom:20px;\nborder-top:1px solid #ececec;\nborder-bottom:1px solid #ececec}"}),n]})}},8196:function(e,n,r){"use strict";r.r(n),r.d(n,{__N_SSG:function(){return S},default:function(){return O}});var t=r(5893),a=r(1523),i=r(4939),s=r(8969),o=r(4051),l=r.n(o),c=r(1641),u=r(319),d=r(7294),f=r(6689),b=r.n(f),m=r(7283);function p(){var e,n,r=(e=["\n  mutation Mutation($username: String!, $email: String!, $password: String!) {\n      createUser(username: $username, email: $email, password: $password) {\n        id\n      }\n  }\n"],n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));return p=function(){return r},r}var x=(0,m.Ps)(p());function g(){var e,n,r=(e=["\n    query Query($username: String!) {\n        isUsernameAvailable(username: $username)\n    }\n"],n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));return g=function(){return r},r}var h=(0,m.Ps)(g());function v(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}function j(e,n,r,t,a,i,s){try{var o=e[i](s),l=o.value}catch(c){return void r(c)}o.done?n(l):Promise.resolve(l).then(t,a)}function w(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function y(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){w(e,n,r[n])}))}return e}function k(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var t,a,i=[],s=!0,o=!1;try{for(r=r.call(e);!(s=(t=r.next()).done)&&(i.push(t.value),!n||i.length!==n);s=!0);}catch(l){o=!0,a=l}finally{try{s||null==r.return||r.return()}finally{if(o)throw a}}return i}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return v(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(){var e=(0,d.useState)({email:"",username:"",password:"",passwordVerify:"",message:"",loader:!1,canSubmit:!1}),n=e[0],r=e[1],a=(0,c.a)(h,{variables:{username:n.username}}),i=a.loading,s=a.error,o=a.data,f=k((0,u.D)(x),2),m=f[0],p=f[1].loading;(0,d.useEffect)((function(){!i&&!p||n.loader?n.loader&&(console.dir("loader off"),r(y({},n,{loader:!1}))):(console.dir("loader on"),r(y({},n,{loader:!0})))}),[i,p]),(0,d.useEffect)((function(){s&&r(y({},n,{message:s.message}))}),[s]),(0,d.useEffect)((function(){i||(null===o||void 0===o?void 0:o.isUsernameAvailable)?""!==n.message&&r(y({},n,{message:""})):r(y({},n,{message:"Username Already Taken"}))}),[o]),(0,d.useEffect)((function(){var e=n.password,t=n.passwordVerify;e!==t&&""!==e&&""!==t?r(y({},n,{message:"Passwords do not match",canSubmit:!1})):""===n.message&&n.canSubmit||r(y({},n,{message:"",canSubmit:!0}))}),[n.password,n.passwordVerify]);var g=function(e){var t=e.target.name,a=e.target.value;r(y({},n,w({},t,a)))},v=function(){var e,t=(e=l().mark((function e(t){var a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),t.target.reset(),n.password===n.passwordVerify){e.next=6;break}return r(y({},n,{message:"Passwords do not match"})),e.abrupt("return");case 6:return e.next=8,m({variables:{email:n.email,username:n.username,password:n.password}});case 8:a=e.sent,console.log(a);case 10:case"end":return e.stop()}}),e)})),function(){var n=this,r=arguments;return new Promise((function(t,a){var i=e.apply(n,r);function s(e){j(i,t,a,s,o,"next",e)}function o(e){j(i,t,a,s,o,"throw",e)}s(void 0)}))});return function(e){return t.apply(this,arguments)}}();return(0,t.jsxs)("form",{className:b().form,onSubmit:v,children:[(0,t.jsx)("h1",{className:b().h1,children:"Register User"}),(0,t.jsx)("input",{className:b().input,placeholder:"email",value:n.email,onChange:g,name:"email",type:"email",required:!0}),(0,t.jsx)("input",{className:b().input,placeholder:"username",value:n.username,onChange:g,name:"username",type:"text",required:!0}),(0,t.jsx)("input",{className:b().input,placeholder:"password",value:n.password,onChange:g,name:"password",type:"password",required:!0}),(0,t.jsx)("input",{className:b().input,placeholder:"verify password",value:n.passwordVerify,onChange:g,name:"passwordVerify",type:"password",required:!0}),(0,t.jsxs)("div",{className:b().submitFields,children:[(0,t.jsx)("button",{type:"submit",disabled:!n.canSubmit,children:"Submit"}),(0,t.jsx)("div",{className:b().message,style:n.message?{visibility:"visible"}:{visibility:"hidden"},children:n.message}),(0,t.jsx)("div",{className:b().loader,style:n.loader?{visibility:"visible"}:{visibility:"hidden"}})]})]})}var N=r(5439),S=!0,O=function(){return(0,t.jsxs)(a.Z,{children:[(0,t.jsx)(s.Z,{}),(0,t.jsx)(i.Z,{children:"\u2139\ufe0f This page shows how to use SSG with Apollo."}),(0,t.jsx)(_,{}),(0,t.jsx)(N.Z,{})]})}},6689:function(e){e.exports={form:"Register_form__GC0gv",h1:"Register_h1__jGYj2",input:"Register_input__5GZMu",message:"Register_message__2oZb2",submitFields:"Register_submitFields__dekWM",loader:"Register_loader__rzIv_",load1:"Register_load1__7OLBn"}},319:function(e,n,r){"use strict";r.d(n,{D:function(){return u}});var t=r(655),a=r(7294),i=r(8728),s=r(2152),o=r(4692),l=r(990),c=r(6252);function u(e,n){var r=(0,c.x)(null===n||void 0===n?void 0:n.client);(0,o.Vp)(e,o.n_.Mutation);var u=(0,a.useState)({called:!1,loading:!1,client:r}),d=u[0],f=u[1],b=(0,a.useRef)({result:d,mutationId:0,isMounted:!0,client:r,mutation:e,options:n});Object.assign(b.current,{client:r,options:n,mutation:e});var m=(0,a.useCallback)((function(e){void 0===e&&(e={});var n=b.current,r=n.client,a=n.options,o=n.mutation,c=(0,t.pi)((0,t.pi)({},a),{mutation:o});b.current.result.loading||c.ignoreResults||f(b.current.result={loading:!0,error:void 0,data:void 0,called:!0,client:r});var u=++b.current.mutationId,d=(0,i.J)(c,e);return r.mutate(d).then((function(n){var t,a,i=n.data,o=n.errors,m=o&&o.length>0?new l.c({graphQLErrors:o}):void 0;if(u===b.current.mutationId&&!d.ignoreResults){var p={called:!0,loading:!1,data:i,error:m,client:r};b.current.isMounted&&!(0,s.D)(b.current.result,p)&&f(b.current.result=p)}return null===(t=c.onCompleted)||void 0===t||t.call(c,n.data),null===(a=e.onCompleted)||void 0===a||a.call(e,n.data),n})).catch((function(n){var t,a;if(u===b.current.mutationId&&b.current.isMounted){var i={loading:!1,error:n,data:void 0,called:!0,client:r};(0,s.D)(b.current.result,i)||f(b.current.result=i)}if(c.onError||d.onError)return null===(t=c.onError)||void 0===t||t.call(c,n),null===(a=e.onError)||void 0===a||a.call(e,n),{data:void 0,errors:n};throw n}))}),[]),p=(0,a.useCallback)((function(){f({called:!1,loading:!1,client:r})}),[]);return(0,a.useEffect)((function(){return function(){b.current.isMounted=!1}}),[]),[m,(0,t.pi)({reset:p},d)]}}},function(e){e.O(0,[993,770,774,888,179],(function(){return n=5301,e(e.s=n);var n}));var n=e.O();_N_E=n}]);