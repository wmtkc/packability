[{"/Users/wmtkc/Documents/personal/jailbreak/packability/client/pages/_app.tsx":"1","/Users/wmtkc/Documents/personal/jailbreak/packability/client/pages/about.tsx":"2","/Users/wmtkc/Documents/personal/jailbreak/packability/client/pages/api/hello.ts":"3","/Users/wmtkc/Documents/personal/jailbreak/packability/client/pages/index.tsx":"4","/Users/wmtkc/Documents/personal/jailbreak/packability/client/pages/old-index.tsx":"5","/Users/wmtkc/Documents/personal/jailbreak/packability/client/pages/ssr.tsx":"6","/Users/wmtkc/Documents/personal/jailbreak/packability/client/components/App.tsx":"7","/Users/wmtkc/Documents/personal/jailbreak/packability/client/components/BookList.tsx":"8","/Users/wmtkc/Documents/personal/jailbreak/packability/client/components/ErrorMessage.tsx":"9","/Users/wmtkc/Documents/personal/jailbreak/packability/client/components/Forms/BookSubmit.tsx":"10","/Users/wmtkc/Documents/personal/jailbreak/packability/client/components/Forms/Register.tsx":"11","/Users/wmtkc/Documents/personal/jailbreak/packability/client/components/Header.tsx":"12","/Users/wmtkc/Documents/personal/jailbreak/packability/client/components/InfoBox.tsx":"13","/Users/wmtkc/Documents/personal/jailbreak/packability/client/lib/apolloClient.ts":"14","/Users/wmtkc/Documents/personal/jailbreak/packability/client/lib/mutations/createBook.ts":"15","/Users/wmtkc/Documents/personal/jailbreak/packability/client/lib/mutations/createUser.ts":"16","/Users/wmtkc/Documents/personal/jailbreak/packability/client/lib/queries/books.ts":"17","/Users/wmtkc/Documents/personal/jailbreak/packability/client/lib/queries/isUsernameAvailable.ts":"18","/Users/wmtkc/Documents/personal/jailbreak/packability/client/pages/clientOnly.tsx":"19"},{"size":494,"mtime":1645411722576,"results":"20","hashOfConfig":"21"},{"size":1862,"mtime":1644993441114,"results":"22","hashOfConfig":"21"},{"size":311,"mtime":1644988843255,"results":"23","hashOfConfig":"21"},{"size":850,"mtime":1645324332727,"results":"24","hashOfConfig":"21"},{"size":1655,"mtime":1645423848725,"results":"25","hashOfConfig":"21"},{"size":843,"mtime":1645324607090,"results":"26","hashOfConfig":"21"},{"size":1100,"mtime":1644991976480,"results":"27","hashOfConfig":"21"},{"size":2187,"mtime":1645324836317,"results":"28","hashOfConfig":"21"},{"size":310,"mtime":1645067996881,"results":"29","hashOfConfig":"21"},{"size":1643,"mtime":1645324820050,"results":"30","hashOfConfig":"21"},{"size":4078,"mtime":1645324109534,"results":"31","hashOfConfig":"21"},{"size":941,"mtime":1644991837337,"results":"32","hashOfConfig":"21"},{"size":390,"mtime":1645160775309,"results":"33","hashOfConfig":"21"},{"size":2376,"mtime":1645064114093,"results":"34","hashOfConfig":"21"},{"size":260,"mtime":1645324799372,"results":"35","hashOfConfig":"21"},{"size":259,"mtime":1645323974497,"results":"36","hashOfConfig":"21"},{"size":316,"mtime":1645324277338,"results":"37","hashOfConfig":"21"},{"size":182,"mtime":1645324039970,"results":"38","hashOfConfig":"21"},{"size":721,"mtime":1645424055194,"results":"39","hashOfConfig":"21"},{"filePath":"40","messages":"41","suppressedMessages":"42","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1h797l4",{"filePath":"43","messages":"44","suppressedMessages":"45","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"46","messages":"47","suppressedMessages":"48","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"49","messages":"50","suppressedMessages":"51","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"52","messages":"53","suppressedMessages":"54","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"55","messages":"56","suppressedMessages":"57","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"58","messages":"59","suppressedMessages":"60","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"61","messages":"62","suppressedMessages":"63","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"64","messages":"65","suppressedMessages":"66","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"67","messages":"68","suppressedMessages":"69","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"70","messages":"71","suppressedMessages":"72","errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"73"},{"filePath":"74","messages":"75","suppressedMessages":"76","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"77","messages":"78","suppressedMessages":"79","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"80","messages":"81","suppressedMessages":"82","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"83","messages":"84","suppressedMessages":"85","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"86","messages":"87","suppressedMessages":"88","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"89","messages":"90","suppressedMessages":"91","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"92","messages":"93","suppressedMessages":"94","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"95","messages":"96","suppressedMessages":"97","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/wmtkc/Documents/personal/jailbreak/packability/client/pages/_app.tsx",[],[],"/Users/wmtkc/Documents/personal/jailbreak/packability/client/pages/about.tsx",[],[],"/Users/wmtkc/Documents/personal/jailbreak/packability/client/pages/api/hello.ts",[],[],"/Users/wmtkc/Documents/personal/jailbreak/packability/client/pages/index.tsx",[],[],"/Users/wmtkc/Documents/personal/jailbreak/packability/client/pages/old-index.tsx",[],[],"/Users/wmtkc/Documents/personal/jailbreak/packability/client/pages/ssr.tsx",[],[],"/Users/wmtkc/Documents/personal/jailbreak/packability/client/components/App.tsx",[],[],"/Users/wmtkc/Documents/personal/jailbreak/packability/client/components/BookList.tsx",[],[],"/Users/wmtkc/Documents/personal/jailbreak/packability/client/components/ErrorMessage.tsx",[],[],"/Users/wmtkc/Documents/personal/jailbreak/packability/client/components/Forms/BookSubmit.tsx",[],[],"/Users/wmtkc/Documents/personal/jailbreak/packability/client/components/Forms/Register.tsx",["98","99","100","101"],[],"import { useMutation, useQuery } from '@apollo/client'\nimport { useEffect, useState } from 'react';\nimport styles from \"@styles/components/Register.module.css\";\n\nimport { CREATE_USER_MUTATION } from '@lib/mutations/createUser';\nimport { IS_USERNAME_AVAILABLE_QUERY } from '@lib/queries/isUsernameAvailable';\n\n\nexport default function Register () {\n\n  const [state, setState] = useState({\n    email: '',\n    username: '',\n    password: '',\n    passwordVerify: '',\n\n    message: '',\n    loader: false,\n    canSubmit: false\n  });\n\n  let { loading: usernameLoading, error, data } = useQuery(IS_USERNAME_AVAILABLE_QUERY, {\n    variables: {\n      username: state.username\n    }\n  }); \n\n  let [createUser, { loading: creatingUser }] = useMutation(CREATE_USER_MUTATION);\n\n  useEffect(() => {\n    if ((usernameLoading || creatingUser) && !state.loader) {\n      console.dir('loader on');\n      setState({...state, loader: true});\n    } else if (state.loader) {\n      console.dir('loader off');\n      setState({...state, loader: false})\n    }\n  }, [usernameLoading, creatingUser]);\n  \n  useEffect(() => {\n    if (error) setState({...state, message: error.message});\n  }, [error]);\n\n  useEffect(() => {\n    if (!usernameLoading && !data?.isUsernameAvailable) {\n      setState({...state, message: 'Username Already Taken'});\n    } else if (state.message !== '') {\n      setState({...state, message: ''});\n    }\n  }, [data]);\n\n  useEffect(() => {\n    const { password, passwordVerify } = state;\n\n    const passwordsDoNotMatch = password !== passwordVerify && \n      password !== '' && \n      passwordVerify !== '';\n    if (passwordsDoNotMatch) {\n      setState({\n        ...state, \n        message: 'Passwords do not match',\n        canSubmit: false\n      }) ; \n    } else if (state.message !== '' || !state.canSubmit) {\n      setState({\n        ...state, \n        message: '',\n        canSubmit: true\n      }) ; \n    }\n\n  }, [state.password, state.passwordVerify]);\n\n  const handleChange = (event) => {\n    const name = event.target.name;\n    const value = event.target.value;\n    setState({\n      ...state,\n      [name]: value\n    });\n  }\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    const form = event.target;\n\n    form.reset();\n\n    if (state.password !== state.passwordVerify) {\n      setState({...state, message: 'Passwords do not match'});\n      return;\n    }; \n\n    const userId = await createUser({\n      variables: { \n        email: state.email, \n        username: state.username, \n        password: state.password \n      }\n    });\n\n    console.log(userId);\n  }\n\n  return (\n    <form className={styles.form} onSubmit={handleSubmit}>\n      <h1 className={styles.h1}>Register User</h1>\n      <input className={styles.input} \n             placeholder=\"email\" \n             value={state.email} \n             onChange={handleChange}\n             name=\"email\" \n             type=\"email\" \n             required />\n      <input className={styles.input} \n             placeholder=\"username\" \n             value={state.username} \n             onChange={handleChange}\n             name=\"username\" \n             type=\"text\" \n             required />\n      <input className={styles.input} \n             placeholder=\"password\" \n             value={state.password} \n             onChange={handleChange}\n             name=\"password\" \n             type=\"password\" \n             required />\n      <input className={styles.input} \n             placeholder=\"verify password\" \n             value={state.passwordVerify}\n             onChange={handleChange} \n             name=\"passwordVerify\" \n             type=\"password\" \n             required />\n      <div className={styles.submitFields}>\n        <button type=\"submit\" disabled={!state.canSubmit}>\n          Submit\n        </button>\n        <div className={styles.message} style={(state.message) ? {visibility: \"visible\"} : {visibility: \"hidden\"}}>{state.message}</div>\n        <div className={styles.loader} style={(state.loader) ? {visibility: \"visible\"} : {visibility: \"hidden\"}}></div>\n      </div>\n    </form>\n  )\n}","/Users/wmtkc/Documents/personal/jailbreak/packability/client/components/Header.tsx",[],[],"/Users/wmtkc/Documents/personal/jailbreak/packability/client/components/InfoBox.tsx",[],[],"/Users/wmtkc/Documents/personal/jailbreak/packability/client/lib/apolloClient.ts",[],[],"/Users/wmtkc/Documents/personal/jailbreak/packability/client/lib/mutations/createBook.ts",[],[],"/Users/wmtkc/Documents/personal/jailbreak/packability/client/lib/mutations/createUser.ts",[],[],"/Users/wmtkc/Documents/personal/jailbreak/packability/client/lib/queries/books.ts",[],[],"/Users/wmtkc/Documents/personal/jailbreak/packability/client/lib/queries/isUsernameAvailable.ts",[],[],"/Users/wmtkc/Documents/personal/jailbreak/packability/client/pages/clientOnly.tsx",[],[],{"ruleId":"102","severity":1,"message":"103","line":38,"column":6,"nodeType":"104","endLine":38,"endColumn":37,"suggestions":"105"},{"ruleId":"102","severity":1,"message":"103","line":42,"column":6,"nodeType":"104","endLine":42,"endColumn":13,"suggestions":"106"},{"ruleId":"102","severity":1,"message":"107","line":50,"column":6,"nodeType":"104","endLine":50,"endColumn":12,"suggestions":"108"},{"ruleId":"102","severity":1,"message":"103","line":72,"column":6,"nodeType":"104","endLine":72,"endColumn":44,"suggestions":"109"},"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'state'. Either include it or remove the dependency array. You can also do a functional update 'setState(s => ...)' if you only need 'state' in the 'setState' call.","ArrayExpression",["110"],["111"],"React Hook useEffect has missing dependencies: 'state' and 'usernameLoading'. Either include them or remove the dependency array. You can also do a functional update 'setState(s => ...)' if you only need 'state' in the 'setState' call.",["112"],["113"],{"desc":"114","fix":"115"},{"desc":"116","fix":"117"},{"desc":"118","fix":"119"},{"desc":"120","fix":"121"},"Update the dependencies array to be: [usernameLoading, creatingUser, state]",{"range":"122","text":"123"},"Update the dependencies array to be: [error, state]",{"range":"124","text":"125"},"Update the dependencies array to be: [data, state, usernameLoading]",{"range":"126","text":"127"},"Update the dependencies array to be: [state, state.password, state.passwordVerify]",{"range":"128","text":"129"},[1037,1068],"[usernameLoading, creatingUser, state]",[1160,1167],"[error, state]",[1403,1409],"[data, state, usernameLoading]",[1912,1950],"[state, state.password, state.passwordVerify]"]